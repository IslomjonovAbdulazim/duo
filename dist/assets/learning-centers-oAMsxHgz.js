import{r as h,d as we,t as v,j as e,c as P,B as k,e as ie,o as Q,f as ye,n as I,s as H,g as ke,_ as ae}from"./index-DgINMOhN.js";import{B as ne,u as Se,T as _e,M as Pe}from"./badge-DlUMfce2.js";import{A as q,a as $,b as W,D as Le,c as De,d as Fe,e as Te,f as U,g as Ee,C as Me,u as Ue,h as Be,i as Ie,j as Ae,H as Oe,T as Re,P as Ge}from"./theme-switch-D75Dtc34.js";import{S as ze,C as He}from"./config-drawer-D86zHoXr.js";import{l as L}from"./learning-centers-api-DhPdUayz.js";import{u as F,T as qe}from"./trash-2-CQU8DePM.js";import{C as A,a as O,b as R,c as G,d as z}from"./card-DpD-R9IK.js";import{T as $e,a as We,b as re,c as S,d as Je,e as _}from"./table-B9Qwy-TQ.js";import{g as le}from"./media-utils-Cpm_6zhn.js";import{B as D}from"./building-2-D3Zl_sF6.js";import{U as Qe}from"./users-DYapBt2_.js";import{G as Ke}from"./graduation-cap-C6qrRU_a.js";import{B as Ve}from"./book-open-CMVZCNAv.js";import{E as Xe,S as Ye,D as K,b as V,c as X,d as Y,e as Z,F as oe,f as g,g as j,h as f,i as b,j as w,l as ce,k as ee}from"./form-BLRV5ccc.js";import{U as J}from"./upload-Cdcu93iZ.js";import{c as de,P as me}from"./createLucideIcon-KT-QINVg.js";import{u as he,a as xe,I as y}from"./label-Dzr7GLYZ.js";import{u as Ze,X as es}from"./index-BBs3mCsI.js";import{L as se}from"./loader-circle-BC5ZDUhw.js";import{I as te}from"./image-CvSmiu9d.js";import{P as ss}from"./plus-Da2kCsUa.js";import"./rotate-ccw-C_vGECFg.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ns=de("toggle-left",as);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ts=de("toggle-right",rs);function is({data:i,isLoading:o,onEdit:r,onUploadLogo:l,onRefresh:t}){const[d,n]=h.useState(!1),[a,c]=h.useState(null),u=we(),x=F({mutationFn:s=>L.togglePayment(s),onSuccess:s=>{v.success(s.message),u.invalidateQueries({queryKey:["learning-centers"]}),t()},onError:s=>{v.error("Failed to toggle payment status"),console.error("Toggle payment error:",s)}}),N=F({mutationFn:s=>L.deactivate(s),onSuccess:s=>{v.success(s.message),u.invalidateQueries({queryKey:["learning-centers"]}),t(),n(!1),c(null)},onError:s=>{v.error("Failed to deactivate learning center"),console.error("Delete error:",s)}}),C=s=>{x.mutate(s.id)},p=s=>{c(s),n(!0)},m=()=>{a&&N.mutate(a.id)};return o?e.jsxs(A,{children:[e.jsxs(O,{children:[e.jsx(R,{children:"Learning Centers"}),e.jsx(G,{children:"Loading..."})]}),e.jsx(z,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):i.length===0?e.jsxs(A,{children:[e.jsxs(O,{children:[e.jsx(R,{children:"Learning Centers"}),e.jsx(G,{children:"No learning centers found"})]}),e.jsx(z,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(D,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsxs("p",{className:"text-muted-foreground text-center",children:["No learning centers have been created yet.",e.jsx("br",{}),'Click "Add Learning Center" to get started.']})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(A,{className:"border-0 shadow-lg bg-gradient-to-br from-card via-card to-card/95",children:[e.jsx(O,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(R,{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-primary"}),"Learning Centers (",i.length,")"]}),e.jsx(G,{className:"mt-1",children:"Comprehensive management of educational institutions"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Active"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:i.filter(s=>s.is_active).length})]})]})}),e.jsx(z,{children:e.jsxs($e,{children:[e.jsx(We,{children:e.jsxs(re,{children:[e.jsx(S,{children:"Center"}),e.jsx(S,{children:"Contact"}),e.jsx(S,{children:"Limits"}),e.jsx(S,{children:"Status"}),e.jsx(S,{children:"Payment"}),e.jsx(S,{children:"Created"}),e.jsx(S,{className:"w-[70px]",children:"Actions"})]})}),e.jsx(Je,{children:i.map(s=>e.jsxs(re,{children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(q,{className:"h-10 w-10",children:[e.jsx($,{src:le(s.logo),alt:s.name}),e.jsx(W,{children:e.jsx(D,{className:"h-4 w-4"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",s.id]})]})]})}),e.jsx(_,{children:e.jsx("div",{className:"text-sm",children:s.phone})}),e.jsx(_,{children:e.jsxs("div",{className:"flex flex-col space-y-1 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Qe,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.student_limit," students"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ke,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.teacher_limit," teachers"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ve,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.group_limit," groups"]})]})]})}),e.jsx(_,{children:e.jsxs(ne,{variant:s.is_active?"default":"secondary",className:P("font-medium transition-all duration-200",s.is_active?"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-100 text-red-700 hover:bg-red-200 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"),children:[e.jsx("div",{className:P("w-2 h-2 rounded-full mr-1",s.is_active?"bg-emerald-500":"bg-red-500")}),s.is_active?"Active":"Inactive"]})}),e.jsx(_,{children:e.jsxs(ne,{variant:s.is_paid?"default":"secondary",className:P("font-medium transition-all duration-200",s.is_paid?"bg-blue-100 text-blue-700 hover:bg-blue-200 border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800":"bg-amber-100 text-amber-700 hover:bg-amber-200 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-800"),children:[e.jsx("div",{className:P("w-2 h-2 rounded-full mr-1",s.is_paid?"bg-blue-500":"bg-amber-500")}),s.is_paid?"Paid Plan":"Free Plan"]})}),e.jsx(_,{children:e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()})}),e.jsx(_,{children:e.jsxs(Le,{children:[e.jsx(De,{asChild:!0,children:e.jsxs(k,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Xe,{className:"h-4 w-4"})]})}),e.jsxs(Fe,{align:"end",children:[e.jsx(Te,{children:"Actions"}),e.jsxs(U,{onClick:()=>r(s),children:[e.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(U,{onClick:()=>l(s),children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Upload Logo"]}),e.jsx(Ee,{}),e.jsxs(U,{onClick:()=>C(s),disabled:x.isPending,children:[s.is_paid?e.jsx(ns,{className:"mr-2 h-4 w-4"}):e.jsx(ts,{className:"mr-2 h-4 w-4"}),s.is_paid?"Make Free":"Make Paid"]}),e.jsxs(U,{onClick:()=>p(s),className:"text-red-600",children:[e.jsx(qe,{className:"mr-2 h-4 w-4"}),"Deactivate"]})]})]})})]},s.id))})]})})]}),e.jsx(Me,{open:d,onOpenChange:n,title:"Deactivate Learning Center",desc:`Are you sure you want to deactivate "${a?.name}"? This action cannot be undone.`,confirmText:"Deactivate",handleConfirm:m,isLoading:N.isPending})]})}var B="Switch",[ls]=Be(B),[os,cs]=ls(B),ue=h.forwardRef((i,o)=>{const{__scopeSwitch:r,name:l,checked:t,defaultChecked:d,required:n,disabled:a,value:c="on",onCheckedChange:u,form:x,...N}=i,[C,p]=h.useState(null),m=ie(o,M=>p(M)),s=h.useRef(!1),T=C?x||!!C.closest("form"):!0,[E,Ce]=Ue({prop:t,defaultProp:d??!1,onChange:u,caller:B});return e.jsxs(os,{scope:r,checked:E,disabled:a,children:[e.jsx(me.button,{type:"button",role:"switch","aria-checked":E,"aria-required":n,"data-state":fe(E),"data-disabled":a?"":void 0,disabled:a,value:c,...N,ref:m,onClick:Ie(i.onClick,M=>{Ce(Ne=>!Ne),T&&(s.current=M.isPropagationStopped(),s.current||M.stopPropagation())})}),T&&e.jsx(je,{control:C,bubbles:!s.current,name:l,value:c,checked:E,required:n,disabled:a,form:x,style:{transform:"translateX(-100%)"}})]})});ue.displayName=B;var pe="SwitchThumb",ge=h.forwardRef((i,o)=>{const{__scopeSwitch:r,...l}=i,t=cs(pe,r);return e.jsx(me.span,{"data-state":fe(t.checked),"data-disabled":t.disabled?"":void 0,...l,ref:o})});ge.displayName=pe;var ds="SwitchBubbleInput",je=h.forwardRef(({__scopeSwitch:i,control:o,checked:r,bubbles:l=!0,...t},d)=>{const n=h.useRef(null),a=ie(n,d),c=Ze(r),u=Ae(o);return h.useEffect(()=>{const x=n.current;if(!x)return;const N=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(N,"checked").set;if(c!==r&&p){const m=new Event("click",{bubbles:l});p.call(x,r),x.dispatchEvent(m)}},[c,r,l]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...t,tabIndex:-1,ref:a,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});je.displayName=ds;function fe(i){return i?"checked":"unchecked"}var ms=ue,hs=ge;function be({className:i,...o}){return e.jsx(ms,{"data-slot":"switch",className:P("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",i),...o,children:e.jsx(hs,{"data-slot":"switch-thumb",className:P("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0 rtl:data-[state=checked]:-translate-x-[calc(100%-2px)]")})})}const ve=Q({name:H().min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),phone:H().min(10,"Phone number must be at least 10 characters").regex(/^\+?[1-9]\d{1,14}$/,"Please enter a valid phone number"),student_limit:I().min(1,"Student limit must be at least 1").max(1e4,"Student limit cannot exceed 10,000"),teacher_limit:I().min(1,"Teacher limit must be at least 1").max(1e3,"Teacher limit cannot exceed 1,000"),group_limit:I().min(1,"Group limit must be at least 1").max(1e3,"Group limit cannot exceed 1,000"),is_paid:ye()}),xs=ve.partial();Q({file:ke(File).refine(i=>i.size<=5*1024*1024,"File size must be less than 5MB").refine(i=>["image/jpeg","image/jpg","image/png","image/webp"].includes(i.type),"Only JPEG, PNG, and WebP images are allowed")});Q({name:H().optional(),is_paid:ae(["all","paid","unpaid"]).default("all"),is_active:ae(["all","active","inactive"]).default("all")});function us({open:i,onOpenChange:o,onSuccess:r}){const l=he({resolver:xe(ve),defaultValues:{name:"",phone:"",student_limit:100,teacher_limit:10,group_limit:20,is_paid:!0}}),t=F({mutationFn:L.create,onSuccess:n=>{v.success(`Learning center "${n.name}" created successfully`),l.reset(),r()},onError:n=>{v.error("Failed to create learning center"),console.error("Create learning center error:",n)}}),d=n=>{t.mutate(n)};return e.jsx(K,{open:i,onOpenChange:o,children:e.jsxs(V,{className:"max-w-md",children:[e.jsxs(X,{children:[e.jsxs(Y,{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"h-5 w-5"}),e.jsx("span",{children:"Create Learning Center"})]}),e.jsx(Z,{children:"Add a new learning center to the system with specified limits and configuration."})]}),e.jsx(oe,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-4",children:[e.jsx(g,{control:l.control,name:"name",render:({field:n})=>e.jsxs(j,{children:[e.jsx(f,{children:"Center Name"}),e.jsx(b,{children:e.jsx(y,{placeholder:"ABC Learning Center",...n})}),e.jsx(w,{})]})}),e.jsx(g,{control:l.control,name:"phone",render:({field:n})=>e.jsxs(j,{children:[e.jsx(f,{children:"Phone Number"}),e.jsx(b,{children:e.jsx(y,{placeholder:"+998901234567",...n})}),e.jsx(w,{})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(g,{control:l.control,name:"student_limit",render:({field:n})=>e.jsxs(j,{children:[e.jsx(f,{children:"Students"}),e.jsx(b,{children:e.jsx(y,{type:"number",min:1,...n,onChange:a=>n.onChange(parseInt(a.target.value))})}),e.jsx(w,{})]})}),e.jsx(g,{control:l.control,name:"teacher_limit",render:({field:n})=>e.jsxs(j,{children:[e.jsx(f,{children:"Teachers"}),e.jsx(b,{children:e.jsx(y,{type:"number",min:1,...n,onChange:a=>n.onChange(parseInt(a.target.value))})}),e.jsx(w,{})]})}),e.jsx(g,{control:l.control,name:"group_limit",render:({field:n})=>e.jsxs(j,{children:[e.jsx(f,{children:"Groups"}),e.jsx(b,{children:e.jsx(y,{type:"number",min:1,...n,onChange:a=>n.onChange(parseInt(a.target.value))})}),e.jsx(w,{})]})})]}),e.jsx(g,{control:l.control,name:"is_paid",render:({field:n})=>e.jsxs(j,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(f,{children:"Paid Subscription"}),e.jsx(ce,{children:"Enable paid features for this learning center"})]}),e.jsx(b,{children:e.jsx(be,{checked:n.value,onCheckedChange:n.onChange})})]})}),e.jsxs(ee,{children:[e.jsx(k,{type:"button",variant:"outline",onClick:()=>o(!1),disabled:t.isPending,children:"Cancel"}),e.jsxs(k,{type:"submit",disabled:t.isPending,children:[t.isPending&&e.jsx(se,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Center"]})]})]})})]})})}function ps({open:i,onOpenChange:o,center:r,onSuccess:l}){const t=he({resolver:xe(xs),defaultValues:{name:r.name,phone:r.phone,student_limit:r.student_limit,teacher_limit:r.teacher_limit,group_limit:r.group_limit,is_paid:r.is_paid}});h.useEffect(()=>{t.reset({name:r.name,phone:r.phone,student_limit:r.student_limit,teacher_limit:r.teacher_limit,group_limit:r.group_limit,is_paid:r.is_paid})},[r,t]);const d=F({mutationFn:a=>L.update(r.id,a),onSuccess:a=>{v.success(`Learning center "${a.name}" updated successfully`),l()},onError:a=>{v.error("Failed to update learning center"),console.error("Update learning center error:",a)}}),n=a=>{d.mutate(a)};return e.jsx(K,{open:i,onOpenChange:o,children:e.jsxs(V,{className:"max-w-md",children:[e.jsxs(X,{children:[e.jsxs(Y,{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"h-5 w-5"}),e.jsx("span",{children:"Edit Learning Center"})]}),e.jsxs(Z,{children:['Update the configuration and limits for "',r.name,'".']})]}),e.jsx(oe,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(n),className:"space-y-4",children:[e.jsx(g,{control:t.control,name:"name",render:({field:a})=>e.jsxs(j,{children:[e.jsx(f,{children:"Center Name"}),e.jsx(b,{children:e.jsx(y,{placeholder:"ABC Learning Center",...a})}),e.jsx(w,{})]})}),e.jsx(g,{control:t.control,name:"phone",render:({field:a})=>e.jsxs(j,{children:[e.jsx(f,{children:"Phone Number"}),e.jsx(b,{children:e.jsx(y,{placeholder:"+998901234567",...a})}),e.jsx(w,{})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(g,{control:t.control,name:"student_limit",render:({field:a})=>e.jsxs(j,{children:[e.jsx(f,{children:"Students"}),e.jsx(b,{children:e.jsx(y,{type:"number",min:1,...a,onChange:c=>a.onChange(parseInt(c.target.value))})}),e.jsx(w,{})]})}),e.jsx(g,{control:t.control,name:"teacher_limit",render:({field:a})=>e.jsxs(j,{children:[e.jsx(f,{children:"Teachers"}),e.jsx(b,{children:e.jsx(y,{type:"number",min:1,...a,onChange:c=>a.onChange(parseInt(c.target.value))})}),e.jsx(w,{})]})}),e.jsx(g,{control:t.control,name:"group_limit",render:({field:a})=>e.jsxs(j,{children:[e.jsx(f,{children:"Groups"}),e.jsx(b,{children:e.jsx(y,{type:"number",min:1,...a,onChange:c=>a.onChange(parseInt(c.target.value))})}),e.jsx(w,{})]})})]}),e.jsx(g,{control:t.control,name:"is_paid",render:({field:a})=>e.jsxs(j,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(f,{children:"Paid Subscription"}),e.jsx(ce,{children:"Enable paid features for this learning center"})]}),e.jsx(b,{children:e.jsx(be,{checked:a.value,onCheckedChange:a.onChange})})]})}),e.jsxs(ee,{children:[e.jsx(k,{type:"button",variant:"outline",onClick:()=>o(!1),disabled:d.isPending,children:"Cancel"}),e.jsxs(k,{type:"submit",disabled:d.isPending,children:[d.isPending&&e.jsx(se,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Center"]})]})]})})]})})}function gs({open:i,onOpenChange:o,center:r,onSuccess:l}){const[t,d]=h.useState(null),[n,a]=h.useState(null),c=h.useRef(null),u=F({mutationFn:m=>L.uploadLogo(r.id,m),onSuccess:m=>{v.success(m.message),d(null),a(null),l()},onError:m=>{v.error("Failed to upload logo"),console.error("Upload logo error:",m)}}),x=m=>{const s=m.target.files?.[0];if(!s)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(s.type)){v.error("Only JPEG, PNG, and WebP images are allowed");return}if(s.size>5*1024*1024){v.error("File size must be less than 5MB");return}d(s);const T=URL.createObjectURL(s);a(T)},N=()=>{t&&u.mutate(t)},C=()=>{d(null),n&&(URL.revokeObjectURL(n),a(null)),c.current&&(c.current.value="")},p=m=>{m||C(),o(m)};return e.jsx(K,{open:i,onOpenChange:p,children:e.jsxs(V,{className:"max-w-md",children:[e.jsxs(X,{children:[e.jsxs(Y,{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"h-5 w-5"}),e.jsx("span",{children:"Upload Logo"})]}),e.jsxs(Z,{children:['Upload a new logo for "',r.name,'". Supported formats: JPEG, PNG, WebP (max 5MB).']})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-sm font-medium",children:"Current Logo:"}),e.jsxs(q,{className:"h-12 w-12",children:[e.jsx($,{src:le(r.logo),alt:r.name}),e.jsx(W,{children:e.jsx(te,{className:"h-6 w-6"})})]})]}),e.jsx("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6",children:t?e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(q,{className:"h-20 w-20",children:[e.jsx($,{src:n||void 0,alt:"Preview"}),e.jsx(W,{children:e.jsx(te,{className:"h-8 w-8"})})]}),e.jsx(k,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:C,children:e.jsx(es,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-medium",children:t.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[(t.size/1024/1024).toFixed(2)," MB"]})]})]}):e.jsxs("div",{className:"text-center",children:[e.jsx(J,{className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("div",{className:"mt-4",children:e.jsx(k,{type:"button",variant:"outline",onClick:()=>c.current?.click(),children:"Choose File"})}),e.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"JPEG, PNG, WebP up to 5MB"})]})}),e.jsx("input",{ref:c,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:x,className:"hidden"})]}),e.jsxs(ee,{children:[e.jsx(k,{type:"button",variant:"outline",onClick:()=>p(!1),disabled:u.isPending,children:"Cancel"}),e.jsxs(k,{type:"button",onClick:N,disabled:!t||u.isPending,children:[u.isPending&&e.jsx(se,{className:"mr-2 h-4 w-4 animate-spin"}),"Upload Logo"]})]})]})})}function js(){const[i,o]=h.useState(!1),[r,l]=h.useState(!1),[t,d]=h.useState(!1),[n,a]=h.useState(null),{data:c=[],isLoading:u,refetch:x}=Se({queryKey:["learning-centers"],queryFn:()=>L.list({limit:100})}),N=m=>{a(m),l(!0)},C=m=>{a(m),d(!0)},p=()=>{x(),o(!1),l(!1),d(!1),a(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(Oe,{children:[e.jsx(_e,{links:fs}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(ze,{}),e.jsx(Re,{}),e.jsx(He,{}),e.jsx(Ge,{})]})]}),e.jsxs(Pe,{children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Learning Centers"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Manage all learning centers, their configurations, and operational limits"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(k,{onClick:()=>o(!0),size:"lg",className:"bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary/80 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(ss,{className:"mr-2 h-5 w-5"}),"Add Learning Center"]})})]}),e.jsx(is,{data:c,isLoading:u,onEdit:N,onUploadLogo:C,onRefresh:x})]}),e.jsx(us,{open:i,onOpenChange:o,onSuccess:p}),n&&e.jsxs(e.Fragment,{children:[e.jsx(ps,{open:r,onOpenChange:l,center:n,onSuccess:p}),e.jsx(gs,{open:t,onOpenChange:d,center:n,onSuccess:p})]})]})}const fs=[{title:"Overview",href:"/learning-centers",isActive:!0,disabled:!1},{title:"Analytics",href:"/learning-centers/analytics",isActive:!1,disabled:!0},{title:"Settings",href:"/learning-centers/settings",isActive:!1,disabled:!0}],Gs=js;export{Gs as component};
