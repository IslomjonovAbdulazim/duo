import{u as w,l as b,r as n,j as e,B as o}from"./index-V2Kzd9dF.js";import{l as p,m as S,M as L}from"./table-CoRApyCK.js";import{I as E}from"./card-Dp46w9Zm.js";import{B as D}from"./badge-CrAXn4WV.js";import{H as k,S as A,T as B,C as z,P}from"./config-drawer-BYKeGZpa.js";import{c as x}from"./content-api-BI0fxR4U.js";import{C as T,a as _,E as q}from"./chapters-table-B9IRak6C.js";import{c as I}from"./createLucideIcon-C7hGaA3r.js";import{P as M}from"./plus-BCMwcIaX.js";import{D as F}from"./download-3b4FQSq-.js";import"./sign-out-dialog-BdD45vE9.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],O=I("arrow-left",H);function Q(){const i=w(),{courseId:s}=b({from:"/_authenticated/content/chapters"}),[f,u]=n.useState(null),[g,l]=n.useState(!1),[a,d]=n.useState("");n.useEffect(()=>{s||i({to:"/content/courses"})},[s,i]);const{data:r,isLoading:j}=p({queryKey:["courses",s],queryFn:()=>x.courses.get(s),enabled:!!s}),{data:h=[],isLoading:v,refetch:C}=p({queryKey:["chapters",s],queryFn:()=>x.chapters.listByCourse(s),enabled:!!s}),m=h.filter(t=>t.title.toLowerCase().includes(a.toLowerCase())),y=t=>{u(t),l(!0)},c=()=>{C()},N=()=>{i({to:"/content/courses"})};return s?e.jsxs(e.Fragment,{children:[e.jsxs(k,{children:[e.jsx(S,{links:R}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(A,{}),e.jsx(B,{}),e.jsx(z,{}),e.jsx(P,{})]})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsx("div",{className:"space-y-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{variant:"ghost",size:"sm",onClick:N,className:"px-2",children:e.jsx(O,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Chapter Management"}),r&&e.jsxs("p",{className:"text-muted-foreground text-lg",children:[r.title," • ",r.native_language," → ",r.learning_language]})]})]})}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx(T,{courseId:s,onSuccess:c,children:e.jsxs(o,{size:"lg",className:"bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary/80 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(M,{className:"mr-2 h-5 w-5"}),"Add Chapter"]})})})]}),e.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx(E,{placeholder:"Search chapters...",value:a,onChange:t=>d(t.target.value),className:"w-full"})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(o,{variant:"outline",size:"sm",children:[e.jsx(F,{className:"h-4 w-4"}),"Export"]})})]}),a&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[e.jsxs("span",{children:["Showing ",m.length," of ",h.length," chapters"]}),e.jsxs(D,{variant:"secondary",children:['Search: "',a,'"']}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>d(""),children:"Clear filters"})]}),e.jsx(_,{data:m,isLoading:v||j,onEdit:y,onRefresh:c})]}),e.jsx(q,{chapter:f,open:g,onOpenChange:l,onSuccess:c})]}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}const R=[{title:"Courses",href:"/content/courses",isActive:!1,disabled:!1},{title:"Chapters",href:"/content/chapters",isActive:!0,disabled:!1},{title:"Lessons",href:"/content/lessons",isActive:!1,disabled:!1},{title:"Words",href:"/content/words",isActive:!1,disabled:!1}],se=Q;export{se as component};
