import{r as j,f as I,j as e,B as g,t as S,o as pe,s as K,n as Ce,_ as is}from"./index-Bt9fM5MZ.js";import{u as M,T as Ue,a as Oe,b as Y,c as k,d as We,e as U,E as Ie,S as re,f as Me,F as ge,g as F,h as A,i as E,j as q,k as T,l as $,m as Es,M as qs}from"./table-Dny5PrPV.js";import{C as B,b as z,c as G,d as R,e as V,u as fe,a as Ne,I as Q}from"./card-DQB0TV5U.js";import{T as ye,a as Ts,b as ks,c as we,d as ve}from"./textarea-BSQyilr_.js";import{H as Us,S as Os,T as Ws,C as Is,P as Ms}from"./config-drawer-CqPPNwFy.js";import{c as w,C as ss,b as se,F as Se}from"./content-api-JvqcW2RC.js";import{U as Ps,C as Ks,E as Bs}from"./upload-course-logo-dialog-BUucRqe7.js";import{M as Z,A as zs,s as Gs,t as Rs,D as Pe,j as Ke,k as Be,l as ze,n as X,N as Ge,O as ne,Q as Re,R as ae,T as le,U as oe,V as ie,W as de,X as ts,Y as Te,Z as te,_ as Vs,$ as Qs}from"./sign-out-dialog-y-ljUhh7.js";import{g as $s}from"./media-utils-Cpm_6zhn.js";import{U as P}from"./upload-CCRK96O3.js";import{C as Hs,a as Zs,E as Xs}from"./chapters-table-MlJqgrMB.js";import{B as he}from"./badge-CDcCqepc.js";import{S as _e,a as Le,b as De,c as Fe,d as H}from"./select-D8FyDOMK.js";import{V as ue}from"./volume-2-BZcX8kK8.js";import{I as ke}from"./image-Dz5yzcd9.js";import{c as ds}from"./createLucideIcon-C4JE6hq7.js";import{P as be}from"./plus-CgEYW5bH.js";import"./loader-circle-C7CecfwY.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]],Js=ds("file-audio",Ys);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],st=ds("file-image",et);function tt({data:s,isLoading:b,onEdit:m,onCourseClick:v,onRefresh:p,selectedCourse:o}){const[r,l]=j.useState(!1),[a,d]=j.useState(!1),[c,f]=j.useState(null),[x,i]=j.useState(null),n=I(),h=M({mutationFn:C=>w.courses.delete(C),onSuccess:C=>{S.success(C.message),n.invalidateQueries({queryKey:["courses"]}),p(),l(!1),f(null)},onError:C=>{S.error("Failed to delete course"),console.error("Delete error:",C)}}),N=(C,_)=>{_.stopPropagation(),f(C),l(!0)},u=(C,_)=>{_.stopPropagation(),m(C)},y=(C,_)=>{_.stopPropagation(),i(C),d(!0)},D=()=>{c&&h.mutate(c.id)},J=()=>{n.invalidateQueries({queryKey:["courses"]}),p(),d(!1),i(null)};return b?e.jsxs(B,{children:[e.jsxs(z,{children:[e.jsx(G,{children:"Courses"}),e.jsx(R,{children:"Loading..."})]}),e.jsx(V,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):s.length===0?e.jsxs(B,{children:[e.jsxs(z,{children:[e.jsx(G,{children:"Courses"}),e.jsx(R,{children:"No courses found"})]}),e.jsx(V,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsxs("p",{className:"text-muted-foreground text-center",children:["No courses have been created yet.",e.jsx("br",{}),'Click "Add Course" to get started.']})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(B,{className:"border-0 shadow-lg bg-gradient-to-br from-card via-card to-card/95",children:[e.jsx(z,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(G,{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5 text-primary"}),"Courses (",s.length,")"]}),e.jsx(R,{className:"mt-1",children:"Click on a course to view its chapters"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Courses"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:s.length})]})]})}),e.jsx(V,{children:e.jsxs(Ue,{children:[e.jsx(Oe,{children:e.jsxs(Y,{children:[e.jsx(k,{children:"Course"}),e.jsx(k,{children:"Languages"}),e.jsx(k,{children:"Logo"}),e.jsx(k,{className:"w-[70px]",children:"Actions"})]})}),e.jsx(We,{children:s.map(C=>e.jsxs(Y,{className:`cursor-pointer transition-colors hover:bg-muted/50 ${o?.id===C.id?"bg-muted":""}`,onClick:()=>v(C),children:[e.jsx(U,{className:"max-w-[350px]",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium truncate",title:C.title,children:C.title}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: #",C.id]})]})}),e.jsx(U,{className:"max-w-[200px]",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"font-medium text-blue-600",children:C.native_language}),e.jsx("span",{className:"text-muted-foreground",children:"→"}),e.jsx("span",{className:"font-medium text-green-600",children:C.learning_language})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Native → Target"})]})}),e.jsx(U,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[C.logo_url?e.jsxs("div",{className:"relative",children:[e.jsxs(zs,{className:"h-10 w-10 border-2 border-green-200",children:[e.jsx(Gs,{src:$s(C.logo_url),alt:C.title}),e.jsx(Rs,{className:"bg-green-50",children:e.jsx(Z,{className:"h-5 w-5 text-green-600"})})]}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-100 border-2 border-gray-200 flex items-center justify-center",children:e.jsx(Z,{className:"h-5 w-5 text-gray-400"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-gray-300 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:`text-xs font-medium ${C.logo_url?"text-green-600":"text-gray-500"}`,children:C.logo_url?"✓ Logo uploaded":"○ No logo"}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:C.logo_url?"Ready to display":"Upload recommended"})]})]})}),e.jsx(U,{children:e.jsxs(Pe,{children:[e.jsx(Ke,{asChild:!0,children:e.jsxs(g,{variant:"ghost",className:"h-8 w-8 p-0",onClick:_=>_.stopPropagation(),children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Ie,{className:"h-4 w-4"})]})}),e.jsxs(Be,{align:"end",children:[e.jsx(ze,{children:"Actions"}),e.jsxs(X,{onClick:_=>y(C,_),children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Upload Logo"]}),e.jsxs(X,{onClick:_=>u(C,_),children:[e.jsx(re,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(X,{onClick:_=>N(C,_),className:"text-red-600",children:[e.jsx(Me,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},C.id))})]})})]}),e.jsx(Ge,{open:r,onOpenChange:l,title:"Delete Course",desc:`Are you sure you want to delete "${c?.title}"? This action cannot be undone and will also delete all associated lessons and words.`,confirmText:"Delete",handleConfirm:D,isLoading:h.isPending}),x&&e.jsx(Ps,{open:a,onOpenChange:d,course:x,onSuccess:J})]})}function rt({data:s,isLoading:b,onEdit:m,onLessonClick:v,onRefresh:p,selectedLesson:o}){const[r,l]=j.useState(!1),[a,d]=j.useState(null),c=I(),f=M({mutationFn:N=>w.lessons.delete(N),onSuccess:N=>{S.success(N.message),c.invalidateQueries({queryKey:["lessons"]}),p(),l(!1),d(null)},onError:N=>{S.error("Failed to delete lesson"),console.error("Delete error:",N)}}),x=N=>{d(N),l(!0)},i=()=>{a&&f.mutate(a.id)},n=N=>{switch(N){case"word":return"bg-blue-100 text-blue-800 hover:bg-blue-100";case"story":return"bg-purple-100 text-purple-800 hover:bg-purple-100";case"test":return"bg-orange-100 text-orange-800 hover:bg-orange-100";default:return"bg-gray-100 text-gray-800 hover:bg-gray-100"}};if(b)return e.jsxs(B,{children:[e.jsxs(z,{children:[e.jsx(G,{children:"Lessons"}),e.jsx(R,{children:"Loading..."})]}),e.jsx(V,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]});if(s.length===0)return e.jsxs(B,{children:[e.jsxs(z,{children:[e.jsx(G,{children:"Lessons"}),e.jsx(R,{children:"No lessons found"})]}),e.jsx(V,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsxs("p",{className:"text-muted-foreground text-center",children:["No lessons have been created yet.",e.jsx("br",{}),'Click "Add Lesson" to get started.']})]})})]});const h=[...s].sort((N,u)=>N.order-u.order);return e.jsxs(e.Fragment,{children:[e.jsxs(B,{className:"border-0 shadow-lg bg-gradient-to-br from-card via-card to-card/95",children:[e.jsx(z,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(G,{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5 text-primary"}),"Lessons (",h.length,")"]}),e.jsx(R,{className:"mt-1",children:"Manage chapter lessons and their content"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Lessons"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:h.length})]})]})}),e.jsx(V,{children:e.jsxs(Ue,{children:[e.jsx(Oe,{children:e.jsxs(Y,{children:[e.jsx(k,{children:"Order"}),e.jsx(k,{children:"Lesson Title"}),e.jsx(k,{children:"Type"}),e.jsx(k,{children:"Content"}),e.jsx(k,{className:"w-[70px]",children:"Actions"})]})}),e.jsx(We,{children:h.map(N=>{const u=o?.id===N.id,y=N.lesson_type==="test";return e.jsxs(Y,{className:`transition-colors ${y?"cursor-not-allowed opacity-70":"cursor-pointer hover:bg-muted/50"} ${u?"bg-muted border-l-4 border-l-primary":""}`,onClick:()=>!y&&v?.(N),children:[e.jsx(U,{children:e.jsx(he,{variant:"outline",className:"w-8 h-8 rounded-full flex items-center justify-center p-0",children:N.order})}),e.jsx(U,{className:"max-w-[300px]",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium truncate",title:N.title,children:N.title}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: #",N.id]})]})}),e.jsx(U,{children:e.jsx(he,{variant:"secondary",className:n(N.lesson_type),children:N.lesson_type.charAt(0).toUpperCase()+N.lesson_type.slice(1)})}),e.jsx(U,{className:"max-w-[400px]",children:e.jsx("p",{className:"text-sm text-muted-foreground truncate",title:N.content,children:N.content})}),e.jsx(U,{children:e.jsxs(Pe,{children:[e.jsx(Ke,{asChild:!0,children:e.jsxs(g,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Ie,{className:"h-4 w-4"})]})}),e.jsxs(Be,{align:"end",children:[e.jsx(ze,{children:"Actions"}),e.jsxs(X,{onClick:()=>m(N),children:[e.jsx(re,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(X,{onClick:()=>x(N),className:"text-red-600",children:[e.jsx(Me,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},N.id)})})]})})]}),e.jsx(Ge,{open:r,onOpenChange:l,title:"Delete Lesson",desc:`Are you sure you want to delete "${a?.title}"? This action cannot be undone.`,confirmText:"Delete",handleConfirm:i,isLoading:f.isPending})]})}const nt=pe({title:K().min(1,"Lesson title is required"),lesson_type:is(["word","story"]),order:Ce().min(1,"Order must be at least 1"),content:K().min(1,"Content is required")});function at({chapterId:s,children:b,onSuccess:m}){const[v,p]=j.useState(!1),o=I(),r=fe({resolver:Ne(nt),defaultValues:{title:"",lesson_type:"word",order:1,content:""}}),l=M({mutationFn:d=>w.lessons.create({...d,chapter_id:s}),onSuccess:()=>{S.success("Lesson created successfully"),o.invalidateQueries({queryKey:["lessons",s]}),r.reset(),p(!1),m?.()},onError:d=>{S.error("Failed to create lesson"),console.error("Create lesson error:",d)}}),a=d=>{l.mutate(d)};return e.jsxs(ne,{open:v,onOpenChange:p,children:[e.jsx(Re,{asChild:!0,children:b||e.jsxs(g,{children:[e.jsx(ss,{className:"h-4 w-4"}),"Add Lesson"]})}),e.jsxs(ae,{className:"sm:max-w-[600px]",children:[e.jsxs(le,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),"Create New Lesson"]}),e.jsx(ie,{children:"Add a new lesson to this chapter with content and exercises."})]}),e.jsx(ge,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(a),className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsx(F,{control:r.control,name:"title",render:({field:d})=>e.jsxs(A,{children:[e.jsx(E,{children:"Lesson Title *"}),e.jsx(q,{children:e.jsx(Q,{placeholder:"e.g., Hello and Goodbye",...d})}),e.jsx(T,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(F,{control:r.control,name:"lesson_type",render:({field:d})=>e.jsxs(A,{children:[e.jsx(E,{children:"Lesson Type *"}),e.jsxs(_e,{onValueChange:d.onChange,defaultValue:d.value,children:[e.jsx(q,{children:e.jsx(Le,{children:e.jsx(De,{placeholder:"Select lesson type"})})}),e.jsxs(Fe,{children:[e.jsx(H,{value:"word",children:"Word"}),e.jsx(H,{value:"story",children:"Story"}),e.jsx(H,{value:"test",children:"Test"})]})]}),e.jsx(T,{})]})}),e.jsx(F,{control:r.control,name:"order",render:({field:d})=>e.jsxs(A,{children:[e.jsx(E,{children:"Order *"}),e.jsx(q,{children:e.jsx(Q,{type:"number",min:"1",placeholder:"1",...d,onChange:c=>d.onChange(parseInt(c.target.value)||1)})}),e.jsx(T,{})]})})]}),e.jsx(F,{control:r.control,name:"content",render:({field:d})=>e.jsxs(A,{children:[e.jsx(E,{children:"Content *"}),e.jsx(q,{children:e.jsx(ye,{placeholder:"In this lesson we learn basic greetings...",className:"min-h-[120px]",...d})}),e.jsx(T,{})]})})]}),e.jsxs(de,{children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsx(g,{type:"submit",disabled:l.isPending,className:"min-w-[120px]",children:l.isPending?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):"Create Lesson"})]})]})})]})]})}const lt=pe({title:K().min(1,"Lesson title is required"),lesson_type:is(["word","story","test"]),order:Ce().min(1,"Order must be at least 1"),content:K().min(1,"Content is required"),word_lesson_id:Ce().optional()});function ot({lesson:s,open:b,onOpenChange:m,onSuccess:v}){const p=I(),[o,r]=j.useState(""),l=fe({resolver:Ne(lt),defaultValues:{title:"",lesson_type:"word",order:1,content:"",word_lesson_id:void 0}}),a=l.watch("lesson_type"),{data:d,isLoading:c}=$({queryKey:["word-lessons",s?.chapter_id],queryFn:async()=>s?.chapter_id?(await w.lessons.listByChapter(s.chapter_id)).filter(h=>h.lesson_type==="word"&&h.id!==s?.id):[],enabled:a==="test"&&!!s&&b}),f=d?.filter(n=>n.title.toLowerCase().includes(o.toLowerCase()))||[],x=M({mutationFn:n=>{if(!s)throw new Error("No lesson selected");return w.lessons.update(s.id,n)},onSuccess:()=>{S.success("Lesson updated successfully"),p.invalidateQueries({queryKey:["lessons",s?.chapter_id]}),m(!1),v?.()},onError:n=>{S.error("Failed to update lesson"),console.error("Update lesson error:",n)}});j.useEffect(()=>{s&&l.reset({title:s.title,lesson_type:s.lesson_type,order:s.order,content:s.content,word_lesson_id:s.word_lesson_id})},[s,l]);const i=n=>{x.mutate(n)};return s?e.jsx(ne,{open:b,onOpenChange:m,children:e.jsxs(ae,{className:"sm:max-w-[600px]",children:[e.jsxs(le,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5"}),"Edit Lesson"]}),e.jsx(ie,{children:"Update the lesson information, type, and content."})]}),e.jsx(ge,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(i),className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsx(F,{control:l.control,name:"title",render:({field:n})=>e.jsxs(A,{children:[e.jsx(E,{children:"Lesson Title *"}),e.jsx(q,{children:e.jsx(Q,{placeholder:"e.g., Hello and Goodbye",...n})}),e.jsx(T,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(F,{control:l.control,name:"lesson_type",render:({field:n})=>e.jsxs(A,{children:[e.jsx(E,{children:"Lesson Type *"}),e.jsxs(_e,{onValueChange:n.onChange,value:n.value,children:[e.jsx(q,{children:e.jsx(Le,{children:e.jsx(De,{placeholder:"Select lesson type"})})}),e.jsxs(Fe,{children:[e.jsx(H,{value:"word",children:"Word"}),e.jsx(H,{value:"story",children:"Story"}),e.jsx(H,{value:"test",children:"Test"})]})]}),e.jsx(T,{})]})}),e.jsx(F,{control:l.control,name:"order",render:({field:n})=>e.jsxs(A,{children:[e.jsx(E,{children:"Order *"}),e.jsx(q,{children:e.jsx(Q,{type:"number",min:"1",placeholder:"1",...n,onChange:h=>n.onChange(parseInt(h.target.value)||1)})}),e.jsx(T,{})]})})]}),a==="test"&&e.jsx(F,{control:l.control,name:"word_lesson_id",render:({field:n})=>e.jsxs(A,{children:[e.jsx(E,{children:"Connect to Word Lesson *"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ts,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(Q,{placeholder:"Search word lessons...",value:o,onChange:h=>r(h.target.value),className:"pl-10"})]}),e.jsxs(_e,{onValueChange:h=>n.onChange(parseInt(h)),value:n.value?.toString(),disabled:c,children:[e.jsx(q,{children:e.jsx(Le,{children:e.jsx(De,{placeholder:"Select a word lesson to connect"})})}),e.jsxs(Fe,{className:"max-h-60",children:[f.map(h=>e.jsx(H,{value:h.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:h.title}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Order: ",h.order]})]})]})},h.id)),f.length===0&&!c&&e.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:o?"No word lessons found matching your search":"No word lessons available"})]})]})]}),e.jsx(T,{})]})}),e.jsx(F,{control:l.control,name:"content",render:({field:n})=>e.jsxs(A,{children:[e.jsx(E,{children:"Content *"}),e.jsx(q,{children:e.jsx(ye,{placeholder:"In this lesson we learn basic greetings...",className:"min-h-[120px]",...n})}),e.jsx(T,{})]})})]}),e.jsxs(de,{children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(g,{type:"submit",disabled:x.isPending,className:"min-w-[120px]",children:x.isPending?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Updating..."]}):"Update Lesson"})]})]})})]})}):null}function it({data:s,isLoading:b,onEdit:m,onRefresh:v}){const[p,o]=j.useState(!1),[r,l]=j.useState(null),a=I(),d=M({mutationFn:i=>w.words.delete(i),onSuccess:i=>{S.success(i.message),a.invalidateQueries({queryKey:["words"]}),v(),o(!1),l(null)},onError:i=>{S.error("Failed to delete word"),console.error("Delete error:",i)}}),c=i=>{l(i),o(!0)},f=()=>{r&&d.mutate(r.id)},x=i=>{if(i){const n=se(i);n&&new Audio(n).play().catch(N=>{console.error("Error playing audio:",N),S.error("Failed to play audio")})}};return b?e.jsxs(B,{children:[e.jsxs(z,{children:[e.jsx(G,{children:"Words"}),e.jsx(R,{children:"Loading..."})]}),e.jsx(V,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):s.length===0?e.jsxs(B,{children:[e.jsxs(z,{children:[e.jsx(G,{children:"Words"}),e.jsx(R,{children:"No words found"})]}),e.jsx(V,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Te,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsxs("p",{className:"text-muted-foreground text-center",children:["No words have been created yet.",e.jsx("br",{}),'Click "Add Word" to get started.']})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(B,{className:"border-0 shadow-lg bg-gradient-to-br from-card via-card to-card/95",children:[e.jsx(z,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(G,{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5 text-primary"}),"Words (",s.length,")"]}),e.jsx(R,{className:"mt-1",children:"Manage vocabulary words and their translations"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Words"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:s.length})]})]})}),e.jsx(V,{children:e.jsxs(Ue,{children:[e.jsx(Oe,{children:e.jsxs(Y,{children:[e.jsx(k,{children:"Word"}),e.jsx(k,{children:"Translation"}),e.jsx(k,{children:"Example"}),e.jsx(k,{children:"Media"}),e.jsx(k,{className:"w-[70px]",children:"Actions"})]})}),e.jsx(We,{children:s.map(i=>e.jsxs(Y,{children:[e.jsx(U,{className:"max-w-[200px]",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium truncate",title:i.word,children:i.word}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: #",i.id]})]})}),e.jsx(U,{className:"max-w-[200px]",children:e.jsx("div",{className:"font-medium text-green-600 truncate",title:i.translation,children:i.translation})}),e.jsx(U,{className:"max-w-[300px]",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground truncate",title:i.example_sentence,children:i.example_sentence}),i.example_audio&&e.jsxs(g,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>x(i.example_audio),children:[e.jsx(ue,{className:"h-3 w-3 mr-1"}),"Play Example"]})]})}),e.jsx(U,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[i.audio_url&&e.jsx(g,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>x(i.audio_url),title:"Play audio",children:e.jsx(ue,{className:"h-4 w-4 text-blue-600"})}),i.image_url&&e.jsx(g,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>window.open(se(i.image_url),"_blank"),title:"View image",children:e.jsx(ke,{className:"h-4 w-4 text-green-600"})}),!i.audio_url&&!i.image_url&&e.jsx(he,{variant:"outline",className:"text-xs",children:"No media"})]})}),e.jsx(U,{children:e.jsxs(Pe,{children:[e.jsx(Ke,{asChild:!0,children:e.jsxs(g,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Ie,{className:"h-4 w-4"})]})}),e.jsxs(Be,{align:"end",children:[e.jsx(ze,{children:"Actions"}),e.jsxs(X,{onClick:()=>m(i),children:[e.jsx(re,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(X,{onClick:()=>c(i),className:"text-red-600",children:[e.jsx(Me,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},i.id))})]})})]}),e.jsx(Ge,{open:p,onOpenChange:o,title:"Delete Word",desc:`Are you sure you want to delete "${r?.word}"? This action cannot be undone.`,confirmText:"Delete",handleConfirm:f,isLoading:d.isPending})]})}function je({onGenerate:s,children:b,queryKey:m,disabled:v=!1}){const p=I(),o=M({mutationFn:s,onSuccess:l=>{S.success(l.message||"Audio generated successfully"),m&&p.invalidateQueries({queryKey:m})},onError:l=>{S.error("Failed to generate audio"),console.error("Audio generation error:",l)}}),r=()=>{o.mutate()};return e.jsx(g,{type:"button",variant:"outline",size:"sm",onClick:r,disabled:v||o.isPending,className:"flex items-center gap-2",children:o.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),"Generating..."]}):b||e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"h-4 w-4"}),"Generate"]})})}function me({onUpload:s,accept:b,children:m,queryKey:v,disabled:p=!1}){const o=j.useRef(null),r=I(),l=M({mutationFn:async c=>{console.log("Starting upload for file:",c.name,"Size:",c.size,"Type:",c.type);try{const f=await s(c);return console.log("Upload successful:",f),f}catch(f){throw console.error("Upload failed:",f),f}},onSuccess:c=>{console.log("Upload success handler:",c),S.success(c.message||"File uploaded successfully"),v&&r.invalidateQueries({queryKey:v})},onError:c=>{console.error("Upload error handler:",c);const f=c?.response?.data?.detail||c?.message||"Failed to upload file";S.error(f)}}),a=c=>{const f=c.target.files?.[0];if(f){if(f.size>10*1024*1024){S.error("File size must be less than 10MB");return}l.mutate(f)}c.target.value=""},d=()=>{o.current?.click()};return e.jsxs(e.Fragment,{children:[e.jsx(g,{type:"button",variant:"outline",size:"sm",onClick:d,disabled:p||l.isPending,className:"flex items-center gap-2",children:l.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),"Uploading..."]}):m||e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-4 w-4"}),"Upload"]})}),e.jsx("input",{ref:o,type:"file",accept:b,onChange:a,className:"hidden"})]})}const dt=pe({word:K().min(1,"Word is required"),translation:K().min(1,"Translation is required"),example_sentence:K().min(1,"Example sentence is required")});function ct({lessonId:s,children:b,onSuccess:m}){const[v,p]=j.useState(!1),[o,r]=j.useState(null),l=I(),a=fe({resolver:Ne(dt),defaultValues:{word:"",translation:"",example_sentence:""}}),d=M({mutationFn:x=>w.words.create({...x,lesson_id:s,audio_url:null,image_url:null,example_audio:null}),onSuccess:x=>{S.success("Word created successfully"),l.invalidateQueries({queryKey:["words",s]}),r(x.id),a.reset(),m?.()},onError:x=>{S.error("Failed to create word"),console.error("Create word error:",x)}}),c=x=>{d.mutate(x)},f=x=>{p(x),x||(r(null),a.reset())};return e.jsxs(ne,{open:v,onOpenChange:f,children:[e.jsx(Re,{asChild:!0,children:b||e.jsxs(g,{children:[e.jsx(ss,{className:"h-4 w-4"}),"Add Word"]})}),e.jsxs(ae,{className:"sm:max-w-[600px]",children:[e.jsxs(le,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Create New Word"]}),e.jsx(ie,{children:"Add a new vocabulary word with translation and example sentence."})]}),e.jsx(ge,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(F,{control:a.control,name:"word",render:({field:x})=>e.jsxs(A,{children:[e.jsx(E,{children:"Word *"}),e.jsx(q,{children:e.jsx(Q,{placeholder:"e.g., hello",...x})}),e.jsx(T,{})]})}),e.jsx(F,{control:a.control,name:"translation",render:({field:x})=>e.jsxs(A,{children:[e.jsx(E,{children:"Translation *"}),e.jsx(q,{children:e.jsx(Q,{placeholder:"e.g., salom",...x})}),e.jsx(T,{})]})})]}),e.jsx(F,{control:a.control,name:"example_sentence",render:({field:x})=>e.jsxs(A,{children:[e.jsx(E,{children:"Example Sentence *"}),e.jsx(q,{children:e.jsx(ye,{placeholder:"Hello, how are you?",className:"min-h-[80px]",...x})}),e.jsx(T,{})]})}),o&&e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-green-600",children:"✓ Word Created! Add Media (Optional)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Word Audio"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(je,{onGenerate:()=>w.words.generateAudio(o,null),queryKey:["words",s],children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Generate"]}),e.jsxs(me,{accept:"audio/mp3,audio/mpeg,audio/*",onUpload:x=>w.words.uploadAudio(o,x),queryKey:["words",s],children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Upload Audio"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Word Image"}),e.jsxs(me,{accept:"image/jpeg,image/png,image/jpg,image/*",onUpload:x=>w.words.uploadImage(o,x),queryKey:["words",s],children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Upload Image"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Example Audio"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(je,{onGenerate:()=>w.words.generateExampleAudio(o,null),queryKey:["words",s],children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Generate"]}),e.jsxs(me,{accept:"audio/mp3,audio/mpeg,audio/*",onUpload:x=>w.words.uploadExampleAudio(o,x),queryKey:["words",s],children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Upload Audio"]})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Media upload is optional. You can add or update media files later by editing the word."})]})})]}),e.jsxs(de,{children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>p(!1),children:o?"Done":"Cancel"}),!o&&e.jsx(g,{type:"submit",disabled:d.isPending,className:"min-w-[120px]",children:d.isPending?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):"Create Word"})]})]})})]})]})}const xt=pe({word:K().min(1,"Word is required"),translation:K().min(1,"Translation is required"),example_sentence:K().min(1,"Example sentence is required")});function ht({word:s,open:b,onOpenChange:m,onSuccess:v}){const p=I(),o=fe({resolver:Ne(xt),defaultValues:{word:"",translation:"",example_sentence:""}}),r=M({mutationFn:a=>{if(!s)throw new Error("No word selected");return w.words.update(s.id,a)},onSuccess:()=>{S.success("Word updated successfully"),p.invalidateQueries({queryKey:["words",s?.lesson_id]}),m(!1),v?.()},onError:a=>{S.error("Failed to update word"),console.error("Update word error:",a)}});j.useEffect(()=>{s&&o.reset({word:s.word,translation:s.translation,example_sentence:s.example_sentence})},[s,o]);const l=a=>{r.mutate(a)};return s?e.jsx(ne,{open:b,onOpenChange:m,children:e.jsxs(ae,{className:"sm:max-w-[600px]",children:[e.jsxs(le,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5"}),"Edit Word"]}),e.jsx(ie,{children:"Update the word information, translation, and example sentence."})]}),e.jsx(ge,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(F,{control:o.control,name:"word",render:({field:a})=>e.jsxs(A,{children:[e.jsx(E,{children:"Word *"}),e.jsx(q,{children:e.jsx(Q,{placeholder:"e.g., hello",...a})}),e.jsx(T,{})]})}),e.jsx(F,{control:o.control,name:"translation",render:({field:a})=>e.jsxs(A,{children:[e.jsx(E,{children:"Translation *"}),e.jsx(q,{children:e.jsx(Q,{placeholder:"e.g., salom",...a})}),e.jsx(T,{})]})})]}),e.jsx(F,{control:o.control,name:"example_sentence",render:({field:a})=>e.jsxs(A,{children:[e.jsx(E,{children:"Example Sentence *"}),e.jsx(q,{children:e.jsx(ye,{placeholder:"Hello, how are you?",className:"min-h-[80px]",...a})}),e.jsx(T,{})]})}),e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Media Management"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Word Audio"}),s?.audio_url&&e.jsx(g,{type:"button",variant:"ghost",size:"sm",onClick:()=>{new Audio(se(s.audio_url)).play().catch(console.error)},children:e.jsx(ue,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(je,{onGenerate:()=>w.words.generateAudio(s.id,null),queryKey:["words",s?.lesson_id],children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Generate"]}),e.jsxs(me,{accept:"audio/mp3,audio/mpeg,audio/*",onUpload:a=>w.words.uploadAudio(s.id,a),queryKey:["words",s?.lesson_id],children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Upload Audio"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Word Image"}),s?.image_url&&e.jsx(g,{type:"button",variant:"ghost",size:"sm",onClick:()=>window.open(se(s.image_url),"_blank"),children:e.jsx(ke,{className:"h-4 w-4"})})]}),e.jsxs(me,{accept:"image/jpeg,image/png,image/jpg,image/*",onUpload:a=>w.words.uploadImage(s.id,a),queryKey:["words",s?.lesson_id],children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),s?.image_url?"Replace Image":"Upload Image"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Example Audio"}),s?.example_audio&&e.jsx(g,{type:"button",variant:"ghost",size:"sm",onClick:()=>{new Audio(se(s.example_audio)).play().catch(console.error)},children:e.jsx(ue,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(je,{onGenerate:()=>w.words.generateExampleAudio(s.id,null),queryKey:["words",s?.lesson_id],children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Generate"]}),e.jsxs(me,{accept:"audio/mp3,audio/mpeg,audio/*",onUpload:a=>w.words.uploadExampleAudio(s.id,a),queryKey:["words",s?.lesson_id],children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Upload Audio"]})]})]})]})})]}),e.jsxs(de,{children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(g,{type:"submit",disabled:r.isPending,className:"min-w-[120px]",children:r.isPending?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Updating..."]}):"Update Word"})]})]})})]})}):null}function mt({data:s,isLoading:b,onEdit:m,onRefresh:v,lessonId:p}){const[o,r]=j.useState(!1),[l,a]=j.useState(null),d=I(),c=[...new Set(s.filter(u=>u.word_lesson_id).map(u=>u.word_lesson_id))],{data:f}=$({queryKey:["word-lessons-by-ids",c],queryFn:async()=>c.length===0?[]:await Promise.all(c.map(y=>w.lessons.get(y))),enabled:c.length>0}),x=new Map(f?.map(u=>[u.id,u])||[]),i=M({mutationFn:u=>w.stories.delete(u),onSuccess:u=>{S.success(u.message),d.invalidateQueries({queryKey:["stories"]}),v(),r(!1),a(null)},onError:u=>{S.error("Failed to delete story"),console.error("Delete error:",u)}}),n=u=>{a(u),r(!0)},h=()=>{l&&i.mutate(l.id)},N=u=>{if(u){const y=se(u);y&&new Audio(y).play().catch(J=>{console.error("Error playing audio:",J),S.error("Failed to play audio")})}};return b?e.jsxs(B,{children:[e.jsxs(z,{children:[e.jsx(G,{children:"Stories"}),e.jsx(R,{children:"Loading..."})]}),e.jsx(V,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):s.length===0?e.jsxs(B,{children:[e.jsxs(z,{children:[e.jsx(G,{children:"Stories"}),e.jsx(R,{children:"No stories found"})]}),e.jsx(V,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Se,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsxs("p",{className:"text-muted-foreground text-center",children:["No stories have been created yet.",e.jsx("br",{}),'Click "Add Story" to get started.']})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(B,{className:"border-0 shadow-lg bg-gradient-to-br from-card via-card to-card/95",children:[e.jsx(z,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(G,{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-primary"}),"Stories (",s.length,")"]}),e.jsx(R,{className:"mt-1",children:"Manage story content for this lesson"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Stories"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:s.length})]})]})}),e.jsx(V,{children:e.jsxs(Ue,{children:[e.jsx(Oe,{children:e.jsxs(Y,{children:[e.jsx(k,{children:"Story Text"}),e.jsx(k,{children:"Word Lesson"}),e.jsx(k,{children:"Audio"}),e.jsx(k,{className:"w-[70px]",children:"Actions"})]})}),e.jsx(We,{children:s.map(u=>e.jsxs(Y,{children:[e.jsx(U,{className:"max-w-[500px]",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm text-muted-foreground",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},title:u.story_text,children:u.story_text}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: #",u.id," • ",u.story_text.length," characters"]})]})}),e.jsx(U,{children:u.word_lesson_id?e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(he,{variant:"secondary",className:"text-xs",children:x.get(u.word_lesson_id)?.title||`Lesson #${u.word_lesson_id}`})}):e.jsx(he,{variant:"outline",className:"text-xs text-muted-foreground",children:"No connection"})}),e.jsx(U,{children:e.jsx("div",{className:"flex items-center gap-2",children:u.audio_url?e.jsx(g,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>N(u.audio_url),title:"Play story audio",children:e.jsx(ue,{className:"h-4 w-4 text-blue-600"})}):e.jsx(he,{variant:"outline",className:"text-xs",children:"No audio"})})}),e.jsx(U,{children:e.jsxs(Pe,{children:[e.jsx(Ke,{asChild:!0,children:e.jsxs(g,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Ie,{className:"h-4 w-4"})]})}),e.jsxs(Be,{align:"end",children:[e.jsx(ze,{children:"Actions"}),e.jsxs(X,{onClick:()=>m(u),children:[e.jsx(re,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(X,{onClick:()=>n(u),className:"text-red-600",children:[e.jsx(Me,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},u.id))})]})})]}),e.jsx(Ge,{open:o,onOpenChange:r,title:"Delete Story",desc:"Are you sure you want to delete this story? This action cannot be undone.",confirmText:"Delete",handleConfirm:h,isLoading:i.isPending})]})}function cs({title:s,description:b,accept:m,maxSize:v=10,onUpload:p,children:o,queryKey:r}){const[l,a]=j.useState(!1),[d,c]=j.useState(null),[f,x]=j.useState(!1),i=j.useRef(null),n=I(),h=M({mutationFn:()=>{if(!d)throw new Error("No file selected");return p(d)},onSuccess:L=>{S.success(L.message),r&&n.invalidateQueries({queryKey:r}),c(null),a(!1)},onError:L=>{S.error("Failed to upload file"),console.error("File upload error:",L)}}),N=L=>{if(L.size>v*1024*1024){S.error(`File size must be less than ${v}MB`);return}c(L)},u=L=>{L.preventDefault(),x(!1);const W=Array.from(L.dataTransfer.files);W.length>0&&N(W[0])},y=L=>{L.preventDefault(),x(!0)},D=L=>{L.preventDefault(),x(!1)},J=L=>{const W=Array.from(L.target.files||[]);W.length>0&&N(W[0])},C=()=>{h.mutate()},_=()=>m.includes("image")?e.jsx(st,{className:"h-8 w-8"}):m.includes("audio")?e.jsx(Js,{className:"h-8 w-8"}):e.jsx(P,{className:"h-8 w-8"}),Ve=L=>{if(L===0)return"0 Bytes";const W=1024,ce=["Bytes","KB","MB","GB"],Ae=Math.floor(Math.log(L)/Math.log(W));return parseFloat((L/Math.pow(W,Ae)).toFixed(2))+" "+ce[Ae]};return e.jsxs(ne,{open:l,onOpenChange:a,children:[e.jsx(Re,{asChild:!0,children:o||e.jsxs(g,{variant:"outline",size:"sm",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Upload File"]})}),e.jsxs(ae,{className:"sm:max-w-[500px]",children:[e.jsxs(le,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),s]}),e.jsx(ie,{children:b})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${f?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,onDrop:u,onDragOver:y,onDragLeave:D,children:d?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-center text-green-600",children:_()}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:d.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:Ve(d.size)})]}),e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>c(null),children:[e.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Remove"]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-center text-muted-foreground",children:_()}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Drop your file here"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["or click to browse (max ",v,"MB)"]})]}),e.jsx(g,{variant:"outline",onClick:()=>i.current?.click(),children:"Browse Files"})]})}),e.jsx("input",{ref:i,type:"file",accept:m,onChange:J,className:"hidden"})]}),e.jsxs(de,{children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(g,{type:"button",onClick:C,disabled:!d||h.isPending,className:"min-w-[120px]",children:h.isPending?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Upload"]})})]})]})]})}const ut=pe({story_text:K().min(1,"Story text is required"),word_lesson_id:Ce().optional()});function jt({lessonId:s,children:b,onSuccess:m}){const[v,p]=j.useState(!1),[o,r]=j.useState(null),[l,a]=j.useState(""),d=I(),{data:c}=$({queryKey:["lesson",s],queryFn:()=>w.lessons.get(s),enabled:!!s&&v}),{data:f,isLoading:x}=$({queryKey:["word-lessons",c?.chapter_id],queryFn:async()=>c?.chapter_id?(await w.lessons.listByChapter(c.chapter_id)).filter(D=>D.lesson_type==="word"&&D.id!==s):[],enabled:!!c?.chapter_id&&v}),i=f?.filter(y=>y.title.toLowerCase().includes(l.toLowerCase()))||[],n=fe({resolver:Ne(ut),defaultValues:{story_text:"",word_lesson_id:void 0}}),h=M({mutationFn:y=>w.stories.create({...y,lesson_id:s,audio_url:null,word_lesson_id:y.word_lesson_id}),onSuccess:y=>{S.success("Story created successfully"),d.invalidateQueries({queryKey:["stories",s]}),r(y.id),n.reset(),m?.()},onError:y=>{S.error("Failed to create story"),console.error("Create story error:",y)}}),N=y=>{h.mutate(y)},u=y=>{p(y),y||(r(null),a(""),n.reset())};return e.jsxs(ne,{open:v,onOpenChange:u,children:[e.jsx(Re,{asChild:!0,children:b||e.jsxs(g,{children:[e.jsx(ss,{className:"h-4 w-4"}),"Add Story"]})}),e.jsxs(ae,{className:"sm:max-w-[600px]",children:[e.jsxs(le,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5"}),"Create New Story"]}),e.jsx(ie,{children:"Add a new story to this lesson with engaging content."})]}),e.jsx(ge,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(N),className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsx(F,{control:n.control,name:"story_text",render:({field:y})=>e.jsxs(A,{children:[e.jsx(E,{children:"Story Content *"}),e.jsx(q,{children:e.jsx(ye,{placeholder:"Once upon a time, there was a young student learning English...",className:"min-h-[200px]",...y})}),e.jsx(T,{})]})}),e.jsx(F,{control:n.control,name:"word_lesson_id",render:({field:y})=>e.jsxs(A,{children:[e.jsx(E,{children:"Connect to Word Lesson (Optional)"}),e.jsxs(_e,{onValueChange:D=>y.onChange(D==="none"?void 0:Number(D)),value:y.value?String(y.value):void 0,children:[e.jsx(q,{children:e.jsx(Le,{children:e.jsx(De,{placeholder:"Select a word lesson to connect..."})})}),e.jsxs(Fe,{children:[e.jsx("div",{className:"p-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(Q,{placeholder:"Search word lessons...",value:l,onChange:D=>a(D.target.value),className:"pl-10"})]})}),e.jsx(H,{value:"none",children:"No word lesson connection"}),x?e.jsx("div",{className:"p-2 text-center text-sm text-muted-foreground",children:"Loading word lessons..."}):i.length>0?i.map(D=>e.jsx(H,{value:String(D.id),children:D.title},D.id)):e.jsx("div",{className:"p-2 text-center text-sm text-muted-foreground",children:l?"No word lessons found matching your search":"No word lessons available"})]})]}),e.jsx(T,{}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Connect this story to a specific word lesson to reinforce vocabulary learning."})]})}),o&&e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-green-600",children:"✓ Story Created! Add Audio (Optional)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Story Narration"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(je,{onGenerate:()=>w.stories.generateAudio(o,null),queryKey:["stories",s],children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Generate"]}),e.jsx(cs,{title:"Upload Story Audio",description:"Upload an MP3 audio file for story narration.",accept:"audio/mp3,audio/mpeg",onUpload:y=>w.stories.uploadAudio(o,y),queryKey:["stories",s],children:e.jsxs(g,{type:"button",variant:"outline",size:"sm",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Upload"]})})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Generate AI narration or upload your own audio file for this story."})]})]})})]}),e.jsxs(de,{children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>p(!1),children:o?"Done":"Cancel"}),!o&&e.jsx(g,{type:"submit",disabled:h.isPending,className:"min-w-[120px]",children:h.isPending?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):"Create Story"})]})]})})]})]})}const pt=pe({story_text:K().min(1,"Story text is required"),word_lesson_id:Ce().optional()});function gt({story:s,open:b,onOpenChange:m,onSuccess:v}){const[p,o]=j.useState(""),r=I(),{data:l}=$({queryKey:["lesson",s?.lesson_id],queryFn:()=>w.lessons.get(s.lesson_id),enabled:!!s?.lesson_id&&b}),{data:a,isLoading:d}=$({queryKey:["word-lessons",l?.chapter_id],queryFn:async()=>l?.chapter_id?(await w.lessons.listByChapter(l.chapter_id)).filter(h=>h.lesson_type==="word"&&h.id!==s?.lesson_id):[],enabled:!!l?.chapter_id&&b}),c=a?.filter(n=>n.title.toLowerCase().includes(p.toLowerCase()))||[],f=fe({resolver:Ne(pt),defaultValues:{story_text:"",word_lesson_id:void 0}}),x=M({mutationFn:n=>{if(!s)throw new Error("No story selected");return w.stories.update(s.id,n)},onSuccess:()=>{S.success("Story updated successfully"),r.invalidateQueries({queryKey:["stories",s?.lesson_id]}),m(!1),v?.()},onError:n=>{S.error("Failed to update story"),console.error("Update story error:",n)}});j.useEffect(()=>{s&&f.reset({story_text:s.story_text,word_lesson_id:s.word_lesson_id})},[s,f]);const i=n=>{x.mutate(n)};return s?e.jsx(ne,{open:b,onOpenChange:m,children:e.jsxs(ae,{className:"sm:max-w-[600px]",children:[e.jsxs(le,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5"}),"Edit Story"]}),e.jsx(ie,{children:"Update the story content and narration."})]}),e.jsx(ge,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(i),className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsx(F,{control:f.control,name:"story_text",render:({field:n})=>e.jsxs(A,{children:[e.jsx(E,{children:"Story Content *"}),e.jsx(q,{children:e.jsx(ye,{placeholder:"Once upon a time, there was a young student learning English...",className:"min-h-[200px]",...n})}),e.jsx(T,{})]})}),e.jsx(F,{control:f.control,name:"word_lesson_id",render:({field:n})=>e.jsxs(A,{children:[e.jsx(E,{children:"Connect to Word Lesson (Optional)"}),e.jsxs(_e,{onValueChange:h=>n.onChange(h==="none"?void 0:Number(h)),value:n.value?String(n.value):void 0,children:[e.jsx(q,{children:e.jsx(Le,{children:e.jsx(De,{placeholder:"Select a word lesson to connect..."})})}),e.jsxs(Fe,{children:[e.jsx("div",{className:"p-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(Q,{placeholder:"Search word lessons...",value:p,onChange:h=>o(h.target.value),className:"pl-10"})]})}),e.jsx(H,{value:"none",children:"No word lesson connection"}),d?e.jsx("div",{className:"p-2 text-center text-sm text-muted-foreground",children:"Loading word lessons..."}):c.length>0?c.map(h=>e.jsx(H,{value:String(h.id),children:h.title},h.id)):e.jsx("div",{className:"p-2 text-center text-sm text-muted-foreground",children:p?"No word lessons found matching your search":"No word lessons available"})]})]}),e.jsx(T,{}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Connect this story to a specific word lesson to reinforce vocabulary learning."})]})}),e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Audio Management"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Story Narration"}),s?.audio_url&&e.jsx(g,{type:"button",variant:"ghost",size:"sm",onClick:()=>{new Audio(se(s.audio_url)).play().catch(console.error)},children:e.jsx(ue,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(je,{onGenerate:()=>w.stories.generateAudio(s.id,null),queryKey:["stories",s?.lesson_id],children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Generate"]}),e.jsx(cs,{title:"Upload Story Audio",description:"Upload an MP3 audio file for story narration.",accept:"audio/mp3,audio/mpeg",onUpload:n=>w.stories.uploadAudio(s.id,n),queryKey:["stories",s?.lesson_id],children:e.jsxs(g,{type:"button",variant:"outline",size:"sm",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Upload"]})})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Generate AI narration or upload your own audio file for this story."})]})]})})]}),e.jsxs(de,{children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(g,{type:"submit",disabled:x.isPending,className:"min-w-[120px]",children:x.isPending?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Updating..."]}):"Update Story"})]})]})})]})}):null}function ft(){const s=()=>{const t=new URLSearchParams(window.location.search);return{courseId:t.get("courseId")?Number(t.get("courseId")):void 0,chapterId:t.get("chapterId")?Number(t.get("chapterId")):void 0,lessonId:t.get("lessonId")?Number(t.get("lessonId")):void 0,tab:t.get("tab")||"courses"}},b=t=>{const O=new URLSearchParams(window.location.search);Object.entries(t).forEach(([os,es])=>{es==null?O.delete(os):O.set(os,String(es))});const ee=`${window.location.pathname}?${O.toString()}`;window.history.pushState({},"",ee)},[m,v]=j.useState(null),[p,o]=j.useState(null),[r,l]=j.useState(null),[a,d]=j.useState(!1),[c,f]=j.useState(!1),[x,i]=j.useState(!1),[n,h]=j.useState(!1),[N,u]=j.useState(null),[y,D]=j.useState(!1),[J,C]=j.useState(null),[_,Ve]=j.useState(""),[L,W]=j.useState("courses"),{data:ce=[],isLoading:Ae,refetch:xs}=$({queryKey:["courses"],queryFn:()=>w.courses.list()}),Qe=m?.id,{data:Ee=[],isLoading:hs,refetch:ms}=$({queryKey:["chapters",Qe],queryFn:()=>w.chapters.listByCourse(Qe),enabled:!!Qe}),$e=p?.id,{data:qe=[],isLoading:us,refetch:js}=$({queryKey:["lessons",$e],queryFn:()=>w.lessons.listByChapter($e),enabled:!!$e}),xe=r?.id,{data:ps=[],isLoading:gs,refetch:fs}=$({queryKey:["words",xe],queryFn:()=>w.words.listByLesson(xe),enabled:!!xe}),{data:Ns=[],isLoading:ys,refetch:ws}=$({queryKey:["stories",xe],queryFn:()=>w.stories.listByLesson(xe),enabled:!!xe});j.useEffect(()=>{const t=s();W(t.tab)},[]),j.useEffect(()=>{const t=s();if(ce.length>0&&t.courseId){const O=ce.find(ee=>ee.id===t.courseId);O&&v(O)}},[ce]),j.useEffect(()=>{const t=s();if(Ee.length>0&&t.chapterId){const O=Ee.find(ee=>ee.id===t.chapterId);O&&o(O)}},[Ee]),j.useEffect(()=>{const t=s();if(qe.length>0&&t.lessonId){const O=qe.find(ee=>ee.id===t.lessonId);O&&l(O)}},[qe]);const vs=t=>{v(t),d(!0)},bs=t=>{o(t),f(!0)},Cs=t=>{l(t),i(!0)},Ss=t=>{u(t),h(!0)},_s=t=>{C(t),D(!0)},Ls=t=>{if(t.lesson_type==="test")return;l(t);const O=t.lesson_type==="word"?"words":t.lesson_type==="story"?"story":"words";W(O),b({lessonId:t.id,tab:O})},Ds=t=>{v(t),W("chapters"),b({courseId:t.id,chapterId:void 0,lessonId:void 0,tab:"chapters"})},Fs=t=>{o(t),W("lessons"),b({chapterId:t.id,lessonId:void 0,tab:"lessons"})},He=()=>{xs()},Ze=()=>{ms()},Xe=()=>{js()},Ye=()=>{fs()},Je=()=>{ws()},rs=ce.filter(t=>t.title.toLowerCase().includes(_.toLowerCase())||t.native_language.toLowerCase().includes(_.toLowerCase())||t.learning_language.toLowerCase().includes(_.toLowerCase())),ns=Ee.filter(t=>t.title.toLowerCase().includes(_.toLowerCase())),as=qe.filter(t=>t.title.toLowerCase().includes(_.toLowerCase())||t.content.toLowerCase().includes(_.toLowerCase())),ls=ps.filter(t=>t.word.toLowerCase().includes(_.toLowerCase())||t.translation.toLowerCase().includes(_.toLowerCase())||t.example_sentence.toLowerCase().includes(_.toLowerCase())),As=Ns.filter(t=>t.story_text.toLowerCase().includes(_.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsxs(Us,{children:[e.jsx(Es,{links:Nt}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(Os,{}),e.jsx(Ws,{}),e.jsx(Is,{}),e.jsx(Ms,{})]})]}),e.jsxs(qs,{children:[e.jsx("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Zehnly Duo Management"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Complete language learning content management system"})]})}),e.jsx("div",{className:"mb-6",children:e.jsx(Q,{placeholder:"Search across all content...",value:_,onChange:t=>Ve(t.target.value),className:"max-w-sm"})}),e.jsxs(Ts,{value:L,onValueChange:t=>{W(t),b({tab:t})},className:"space-y-6",children:[e.jsxs(ks,{className:"grid w-full grid-cols-5",children:[e.jsxs(we,{value:"courses",className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"h-4 w-4"}),"Courses (",rs.length,")"]}),e.jsxs(we,{value:"chapters",className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4"}),"Chapters (",ns.length,")"]}),e.jsxs(we,{value:"lessons",className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),"Lessons (",as.length,")"]}),e.jsxs(we,{value:"words",className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"Words (",ls.length,")"]}),e.jsxs(we,{value:"story",className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4"}),"Story Content"]})]}),e.jsxs(ve,{value:"courses",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Courses"}),e.jsx(Ks,{onSuccess:He,children:e.jsxs(g,{children:[e.jsx(be,{className:"mr-2 h-4 w-4"}),"Add Course"]})})]}),e.jsx(tt,{data:rs,isLoading:Ae,onEdit:vs,onCourseClick:Ds,onRefresh:He,selectedCourse:m})]}),e.jsxs(ve,{value:"chapters",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Chapters"}),m&&e.jsxs("p",{className:"text-muted-foreground",children:[m.title," • ",m.native_language," → ",m.learning_language]})]}),m&&e.jsx(Hs,{courseId:m.id,onSuccess:Ze,children:e.jsxs(g,{children:[e.jsx(be,{className:"mr-2 h-4 w-4"}),"Add Chapter"]})})]}),m?e.jsx(Zs,{data:ns,isLoading:hs,onEdit:bs,onChapterClick:Fs,onRefresh:Ze,selectedChapter:p}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Select a course from the Courses tab to view its chapters"})]}),e.jsxs(ve,{value:"lessons",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Lessons"}),p&&e.jsxs("p",{className:"text-muted-foreground",children:[p.title," • Order ",p.order]})]}),p&&e.jsx(at,{chapterId:p.id,onSuccess:Xe,children:e.jsxs(g,{children:[e.jsx(be,{className:"mr-2 h-4 w-4"}),"Add Lesson"]})})]}),p?e.jsx(rt,{data:as,isLoading:us,onEdit:Cs,onLessonClick:Ls,onRefresh:Xe,selectedLesson:r}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Select a chapter from the Chapters tab to view its lessons"})]}),e.jsxs(ve,{value:"words",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Words"}),r&&e.jsxs("p",{className:"text-muted-foreground",children:[r.title," • ",r.lesson_type," lesson • Order ",r.order]})]}),r&&e.jsx(ct,{lessonId:r.id,onSuccess:Ye,children:e.jsxs(g,{children:[e.jsx(be,{className:"mr-2 h-4 w-4"}),"Add Word"]})})]}),r?e.jsx(it,{data:ls,isLoading:gs,onEdit:Ss,onRefresh:Ye}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Select a lesson from the Lessons tab to view its vocabulary words"})]}),e.jsxs(ve,{value:"story",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Story Management"}),r&&e.jsxs("p",{className:"text-muted-foreground",children:[r.title," • Story lesson • Order ",r.order]})]}),r&&r.lesson_type==="story"&&e.jsx(jt,{lessonId:r.id,onSuccess:Je,children:e.jsxs(g,{children:[e.jsx(be,{className:"mr-2 h-4 w-4"}),"Add Story"]})})]}),r&&r.lesson_type==="story"?e.jsx(mt,{data:As,isLoading:ys,onEdit:_s,onRefresh:Je,lessonId:r.id}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Select a story lesson from the Lessons tab to manage its stories"})]})]})]}),e.jsx(Bs,{course:m,open:a,onOpenChange:d,onSuccess:He}),e.jsx(Xs,{chapter:p,open:c,onOpenChange:f,onSuccess:Ze}),e.jsx(ot,{lesson:r,open:x,onOpenChange:i,onSuccess:Xe}),e.jsx(ht,{word:N,open:n,onOpenChange:h,onSuccess:Ye}),e.jsx(gt,{story:J,open:y,onOpenChange:D,onSuccess:Je})]})}const Nt=[{title:"Zehnly Duo",href:"/zehnly-duo",isActive:!0,disabled:!1}],It=ft;export{It as component};
