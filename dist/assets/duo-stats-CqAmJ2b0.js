import{k as v,u as C,j as s,B as f}from"./index-CyfqMSRO.js";import{T as S,a as y,b as N,c as x,d as T,e as o,u as k,f as _,M as A}from"./table-BWo1WtLU.js";import{H as D,S as R,T as B,C as H,P as E}from"./config-drawer-D24KfPa3.js";import{S as m,s as M}from"./stats-api-B_-kPfUX.js";import{C as l,a as h,b as j,c as u,d as i}from"./card-BNLdo4DD.js";import{B as P}from"./badge-BLI5LmMG.js";import{a3 as b,$ as c,a0 as g,a1 as q}from"./sign-out-dialog-MZk34Vm3.js";import{E as F}from"./eye-DfvMNBib.js";import"./createLucideIcon-aSoT_QN5.js";function $({data:a,isLoading:n,onRefresh:d}){const{t:e}=v(),w=C(),p=t=>{w({to:`/duo-stats/${t}`})};return n?s.jsxs(l,{children:[s.jsxs(h,{children:[s.jsxs(j,{className:"flex items-center gap-2",children:[s.jsx(b,{className:"h-5 w-5"}),e.duoStats.title]}),s.jsx(u,{children:e.duoStats.description})]}),s.jsx(i,{children:s.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((t,r)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(m,{className:"h-12 w-12 rounded-full"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(m,{className:"h-4 w-[250px]"}),s.jsx(m,{className:"h-4 w-[200px]"})]})]},r))})})]}):a.length===0?s.jsxs(l,{children:[s.jsxs(h,{children:[s.jsxs(j,{className:"flex items-center gap-2",children:[s.jsx(c,{className:"h-5 w-5"}),e.duoStats.title]}),s.jsx(u,{children:e.duoStats.description})]}),s.jsx(i,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(c,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:e.duoStats.noResults}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-sm",children:e.duoStats.noResultsDescription}),s.jsx(f,{onClick:d,variant:"outline",children:"Refresh"})]})})]}):s.jsxs(l,{children:[s.jsxs(h,{children:[s.jsxs(j,{className:"flex items-center gap-2",children:[s.jsx(c,{className:"h-5 w-5"}),"Course Statistics"]}),s.jsx(u,{children:"Click on any course to view detailed student progress"})]}),s.jsxs(i,{children:[s.jsxs(S,{children:[s.jsx(y,{children:s.jsxs(N,{children:[s.jsx(x,{children:e.duoStats.table.course}),s.jsx(x,{children:e.duoStats.table.totalStudents}),s.jsx(x,{className:"text-right",children:e.common.actions})]})}),s.jsx(T,{children:a.map(t=>s.jsxs(N,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>p(t.course_id),children:[s.jsx(o,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:s.jsx(c,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:t.course_title}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Course ID: ",t.course_id]})]})]})}),s.jsx(o,{children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(P,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(g,{className:"h-3 w-3"}),t.total_students," ",e.duoStats.table.students]})})}),s.jsx(o,{className:"text-right",children:s.jsxs(f,{variant:"ghost",size:"sm",onClick:r=>{r.stopPropagation(),p(t.course_id)},children:[s.jsx(F,{className:"h-4 w-4 mr-2"}),e.duoStats.table.viewDetails]})})]},t.course_id))})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(l,{children:s.jsx(i,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(c,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Courses"}),s.jsx("p",{className:"text-2xl font-bold",children:a.length})]})]})})}),s.jsx(l,{children:s.jsx(i,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(g,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold",children:a.reduce((t,r)=>t+r.total_students,0)})]})]})})}),s.jsx(l,{children:s.jsx(i,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(q,{className:"h-5 w-5 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Average Students"}),s.jsx("p",{className:"text-2xl font-bold",children:a.length>0?Math.round(a.reduce((t,r)=>t+r.total_students,0)/a.length):0})]})]})})})]})]})]})}function z(){const{t:a}=v(),{data:n=[],isLoading:d,refetch:e}=k({queryKey:["stats","courses"],queryFn:()=>M.getCourses()});return s.jsxs(s.Fragment,{children:[s.jsxs(D,{children:[s.jsx(_,{links:G}),s.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[s.jsx(R,{}),s.jsx(B,{}),s.jsx(H,{}),s.jsx(E,{})]})]}),s.jsxs(A,{children:[s.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:a.duoStats.title}),s.jsx("p",{className:"text-muted-foreground text-lg",children:a.duoStats.description})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(b,{className:"h-4 w-4"}),s.jsxs("span",{children:[n.length," courses"]})]})})]}),s.jsx($,{data:n,isLoading:d,onRefresh:e})]})]})}const G=[{title:"Overview",href:"/duo-stats",isActive:!0,disabled:!1},{title:"Analytics",href:"/duo-stats/analytics",isActive:!1,disabled:!0},{title:"Reports",href:"/duo-stats/reports",isActive:!1,disabled:!0}],X=()=>s.jsx(z,{});export{X as component};
